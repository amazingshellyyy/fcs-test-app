(this["webpackJsonpfcs-test-app"]=this["webpackJsonpfcs-test-app"]||[]).push([[0],{137:function(e,t,r){},138:function(e,t,r){},144:function(e,t,r){(function(t){var a=r(145),s=r(158),n=r(81);function i(e,t){a.Writable.call(this,{highWaterMark:262144,decodeStrings:!0,objectMode:!0}),this.fcs=e||new n,this.readableStream=t,this.bytesRead=0,this._w={state:"header",eventsNeeded:"asNone"===e.meta.dataFormat?0:e.meta.eventsToRead||n.DEFAULT_VALUES.eventsToRead,isAnalysisThere:!1,isAnalysisSegmentBeforeData:!1,chunks:[],bytesNeeded:256,readParameters:{},encoding:e.meta.encoding||"utf8",prepareForData:function(t){return this.state="data",this.readParameters=e._prepareReadParameters(t),this.eventsNeeded*(this.readParameters.bigSkip+this.readParameters.bytesPerEvent)+e.header.beginData}}}s.inherits(i,a.Writable),i.prototype.getFCS=function(){return this.fcs},i.prototype._write=function(e,r,a){var s,n=this.fcs,i=this._w;for("done"!==this._w.state&&(i.chunks.push(e),this.bytesRead+=e.length);"done"!==i.state&&this.bytesRead>=i.bytesNeeded;){var o=t.concat(i.chunks);switch(i.chunks=[o],i.state){case"header":n.header=n._readHeader(o),i.bytesNeeded=n.header.endText,i.state="text";break;case"text":s=o.toString(i.encoding,n.header.beginText,n.header.endText),n.text=n._readTextOrAnalysis(s),n._adjustHeaderBasedUponText(n.text),i.isAnalysisThere=n.header.beginAnalysis>0,i.isAnalysisSegmentBeforeData=i.isAnalysisThere&&n.header.beginAnalysis<n.header.beginData,i.isAnalysisSegmentBeforeData?(i.state="analysis",i.bytesNeeded=n.header.endAnalysis):i.eventsNeeded>0?i.bytesNeeded=i.prepareForData(o):i.state="done";break;case"analysis":s=o.toString(i.encoding,n.header.beginAnalysis,n.header.endAnalysis),n.analysis=n._readTextOrAnalysis(s),i.isAnalysisSegmentBeforeData&&i.eventsNeeded>0?i.bytesNeeded=i.prepareForData(o):i.state="done";break;case"data":n._readData(o,i.readParameters),i.isAnalysisThere&&!i.isAnalysisSegmentBeforeData?(i.state="analysis",i.bytesNeeded=n.header.endAnalysis):i.state="done";break;default:throw Error("oops")}}"done"!==i.state?a(null):this.readableStream?(this.readableStream.unpipe(this),this.emit("finish")):a()},e.exports=i}).call(this,r(18).Buffer)},146:function(e,t){},148:function(e,t){},161:function(e,t){e.exports={includes:function(e){return e.indexOf("2,1")>-1}}},162:function(e,t,r){"use strict";r.r(t);r(91),r(101),r(103),r(105),r(117),r(118),r(123),r(125),r(127),r(129),r(130);var a=r(0),s=r.n(a),n=r(87),i=r.n(n),o=(r(137),r(138),r(88)),d=r(4);var h=function(){return Object(d.jsxs)("div",{className:"App",children:["IE sucks 5",Object(d.jsx)(o.a,{})]})};i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(h,{})}),document.getElementById("root"))},81:function(e,t,r){(function(t){var a=r(144),s=r(161);function n(e,r){if(!(this instanceof n))return new n(e,r);if(this.meta={dataFormat:n.DEFAULT_VALUES.dataFormat,groupBy:n.DEFAULT_VALUES.groupBy},this.header={},this.text={},this.analysis={},this.bytesRead=0,this.dataAsStrings=null,this.dataAsNumbers=null,this.options(e),r){if(!t.isBuffer(r))throw Error("only Buffers supported for now");this.readBuffer(r)}this.toJSON=function(){var e=this,t="{\n "+Object.keys(n.SEGMENT).map((function(t){var r=n.SEGMENT[t];return'"'+r+': "'+JSON.stringify(e[r],null,2)})).join(",\n ");if(t+=',\n "data": \n',this.dataAsStrings){var r=n.OPTION_VALUES.byParam===this.meta.groupBy?",\n\n":",\n";t+="[",t+=this.dataAsStrings.join(r),t+="]"}else this.dataAsNumbers&&(t+=JSON.stringify(this.dataAsNumbers,null,2));return t+="\n}"}}e.exports.OPTION_VALUES=n.OPTION_VALUES={asNumber:"asNumber",asString:"asString",asBoth:"asBoth",asNone:"asNone",byEvent:"byEvent",byParam:"byParam"},e.exports.DEFAULT_VALUES=n.DEFAULT_VALUES={decimalsToPrint:2,encoding:"utf8",eventsToRead:1e3,maxPerLine:10,dataFormat:"asString",groupBy:"byEvent"},e.exports.SEGMENT=n.SEGMENT={META:"meta",HEADER:"header",TEXT:"text",ANALYSIS:"analysis"},n.prototype.options=function(e){return Object.assign(this.meta,e),this},n.prototype.readBuffer=function(e,t){this.options(t);var r=this.meta.encoding||n.DEFAULT_VALUES.encoding;this.header=this._readHeader(e,r);var a=e.toString(r,this.header.beginText,this.header.endText);if(this.text=this._readTextOrAnalysis(a),this._adjustHeaderBasedUponText(this.text),this.header.beginAnalysis){var s=e.toString(r,this.header.beginAnalysis,this.header.endAnalysis);this.analysis=this._readTextOrAnalysis(s)}return this.dataAsNumbers=null,this.dataAsStrings=null,this._readData(e),this},n.prototype.get=function(e){for(var t=this[e],r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];if(!a.length)return t;var n=a.find((function(e){return t[e]}));return n?t[n]:null},n.prototype.getAnalysis=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.get.apply(this,[n.SEGMENT.HEADER].concat(t))},n.prototype.getText=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.get.apply(this,[n.SEGMENT.TEXT].concat(t))},n.prototype.get$PnX=function(e){var t=[];t[0]=null;for(var r=1;r<=this.meta.$PAR;r++)t[r]=this.text["$P"+r+e];return t},n.prototype.getNumericData=function(e){return this.dataAsNumbers?this.dataAsNumbers[e-1]:null},n.prototype.getStringData=function(e){return this.dataAsStrings?this.dataAsStrings[e-1]:null},n.prototype.getOnly=function(e){Array.isArray(e)||(e=[e]);for(var t={},r=0;r<e.length;r++){var a=e[r].split(".",2),s=a[0];1===a.length?t[s]=this[s]:(t[s]||(t[s]={}),t[s][a[1]]=this[s][a[1]])}return t},n.prototype.readStreamAsync=function(e,t,r){var a=this.prepareWriteableStream(r,e);this.options(t),e.pipe(a)},n.prototype.prepareWriteableStream=function(e,t){var r=new a(this,t);return e&&(r.on("finish",(function(t){e(t,r.fcs)})),r.on("error",(function(t){e(t,r.fcs)}))),r},n.prototype._prepareReadParameters=function(e){var t;if(s.includes(this.text.$BYTEORD))t=!0;else{if(!s.includes(this.text.$BYTEORD))throw Error("cannot handle $BYTEORD= "+this.text.$BYTEORD);t=!1}var r,a=this.meta,i={asNumber:n.OPTION_VALUES.asNumber===a.dataFormat||n.OPTION_VALUES.asBoth===a.dataFormat,asString:n.OPTION_VALUES.asString===a.dataFormat||n.OPTION_VALUES.asBoth===a.dataFormat,decimalsToPrint:Number(a.decimalsToPrint||n.DEFAULT_VALUES.decimalsToPrint),bigSkip:0};switch(i.eventsToRead=Number(a.eventsToRead||n.DEFAULT_VALUES.eventsToRead),(i.eventsToRead<=0||i.eventsToRead>this.meta.eventCount)&&(i.eventsToRead=this.meta.eventCount),this.text.$DATATYPE){case"D":i.fn=t?e.readDoubleBE:e.readDoubleLE,i.bytes=8;break;case"F":i.fn=t?e.readFloatBE:e.readFloatLE,i.bytes=4;break;case"I":Number(this.text.$P1B)>16?(i.fn=t?e.readUInt32BE:e.readUInt32LE,i.bytes=4):(i.fn=t?e.readUInt16BE:e.readUInt16LE,i.bytes=2);break;default:throw Error("oops")}(i.bytesPerEvent=i.bytes*this.meta.$PAR,a.skip=a.skip||a.eventSkip,a.skip&&i.eventsToRead<this.meta.eventCount)&&(Number.isFinite(a.skip)?r=a.skip:(r=Math.floor(this.meta.eventCount/i.eventsToRead)-2,this.meta.computedSkip=a.skip+" -> "+r),i.bigSkip=r*i.bytesPerEvent);return i},n.prototype._readDataGroupByEvent=function(e,t){t=t||this._prepareReadParameters(e);var r,a=Number(this.header.beginData),s=t.bytes,n=t.fn,i=t.eventsToRead,o=Number(this.meta.$PAR),d="I"===this.text.$DATATYPE?-1:t.decimalsToPrint,h=Number,u=Number,l=Number;if(t.asNumber)for(r=new Array(i),h=0;h<i;h++)r[h]=new Array(o);var c,f=t.asString?new Array(i):null;for(h=0;h<i;h++){f&&(c="[");var b=r?r[h]:null;for(u=0;u<o;u++)l=n.call(e,a),a+=s,f&&(u>0&&(c+=","),c+=d>=0?l.toFixed(d):l),b&&(b[u]=l);f&&(c+="]",f[h]=c),a+=t.bigSkip}return this.dataAsNumbers=r,this.dataAsStrings=f,this},n.prototype._readDataGroupByParam=function(e,t){t=t||this._prepareReadParameters(e);var r,a,s=Number(this.header.beginData),i=t.bytes,o=t.fn,d=t.eventsToRead,h=Number(this.meta.$PAR),u="I"===this.text.$DATATYPE?-1:t.decimalsToPrint,l=Number(this.meta.maxPerLine||n.DEFAULT_VALUES.maxPerLine),c=Number,f=Number,b=Number;if(t.asNumber)for(r=new Array(d),c=0;c<d;c++)r[c]=new Array(h);if(t.asString)for(a=[],f=0;f<h;f++)a[f]="[";for(c=0;c<d;c++){for(f=0;f<h;f++)b=o.call(e,s),s+=i,r&&(r[f][c]=b),a&&(c>0&&(a[f]+=",",c%l===0&&(a[f]+="\n")),a[f]+=u>=0?b.toFixed(u):b);s+=t.bigSkip}if(a)for(f=0;f<h;f++)a[f]=a[f].substring(0,a[f].length-1)+"]";return this.dataAsNumbers=r,this.dataAsStrings=a,this},n.prototype._readHeader=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",r=e.toString(t,0,6);if("FCS"!==r.substring(0,3))throw Error("Bad FCS Version: "+r);var a={FCSVersion:r,beginText:Number(e.toString(t,10,18).trim()),endText:Number(e.toString(t,18,26).trim()),beginData:Number(e.toString(t,26,34).trim()),endData:Number(e.toString(t,34,42).trim()),beginAnalysis:Number(e.toString(t,42,50).trim()),endAnalysis:Number(e.toString(t,50,58).trim())};return a},n.prototype._readTextOrAnalysis=function(e){var t={};if(!e)return t;var r=e.charAt(0);if("<"===r)return t.asXML=e,t;var a=r+r,s=e.indexOf(a)>0,n=e.split(r);if(s){for(var i=["",""],o=0,d=0,h=1;h<n.length;h++){var u=n[h];if(u)if(d){for(;d>0;)i[o]+=r,d-=2;0===d?i[++o]=u:i[o]+=u,d=0}else i[++o]=u;else d++}n=i}var l=n.length-1;n[l]||(n.length=l);for(var c=1;c<n.length;c+=2){var f=n[c].trim(),b=n[c+1];t[f]=b}return t},n.prototype._readData=function(e,t){return"H"===this.text.$MODE||n.OPTION_VALUES.asNone===this.meta.dataFormat||(t=t||this._prepareReadParameters(e),n.OPTION_VALUES.byParam===this.meta.groupBy?this._readDataGroupByParam(e,t):this._readDataGroupByEvent(e,t)),this},n.prototype._adjustHeaderBasedUponText=function(e){e=e||this.text,this.meta.eventCount=Number(e.$TOT),this.meta.$PAR=Number(e.$PAR),0===this.header.beginData&&(this.header.beginData=Number(e.$BEGINDATA),this.header.endData=Number(e.$ENDDATA)),0===this.header.beginAnalysis&&(this.header.beginAnalysis=Number(e.$BEGINANALYSIS||0),this.header.endAnalysis=Number(e.$ENDANALYSIS||0))},e.exports=n}).call(this,r(18).Buffer)},88:function(e,t,r){"use strict";(function(e){var a=r(31),s=r(0),n=r(90),i=r(4),o=r(81);t.a=function(){var t=Object(s.useCallback)((function(t){console.log("acceptedFiles",t),t.forEach((function(t){var r=new FileReader;r.onabort=function(){return console.log("file reading was aborted")},r.onerror=function(){return console.log("file reading has failed")},r.onload=function(){console.log("reader",r);var t=r.result;console.log("binaryStr",t);var a=e.from(t,"binary");console.log("buffer",a);var s=new o({},a);console.log("FCSfile",s)},console.log("file",t),r.readAsArrayBuffer(t)}))}),[]),r=Object(n.a)({onDrop:t}),d=r.getRootProps,h=r.getInputProps,u=r.isDragActive;return Object(i.jsxs)("div",Object(a.a)(Object(a.a)({},d()),{},{children:[Object(i.jsx)("input",Object(a.a)({},h())),u?Object(i.jsx)("p",{children:"Drop the files here ..."}):Object(i.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]}))}}).call(this,r(18).Buffer)}},[[162,1,2]]]);
//# sourceMappingURL=main.1a6b58da.chunk.js.map